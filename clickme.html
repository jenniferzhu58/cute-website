<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>JennyBean's Diary</title>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#80c8a6;
  --bg2:#6db1b9;
  --accent:#4e8068;
  --shadow:rgba(0,0,0,.35);
}
body{
  background:linear-gradient(300deg,var(--bg1),var(--bg2));
  margin:0;
  height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  font-family:'Caveat',Cambria,serif;
  color:#fff;
  overflow:hidden;
  opacity:0;
  animation:fadeIn .6s ease-in forwards;
}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

.stage{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  width:90vw;
  height:90vh;
  margin:5vh 0;
  position:relative;
}

img{
  height:90%;
  width:auto;
  object-fit:contain;
  transition:transform .4s ease;
}

.back{
  position:fixed;
  top:16px;
  left:16px;
  background:#fff;
  color:var(--accent);
  border:0;
  padding:.5em 1em;
  font-size:clamp(16px,2.2vw,22px);
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 6px 16px var(--shadow);
  font-family:inherit;
  z-index:10;
}
.back:hover{transform:translateY(-1px)}

.controls{
  width:100%;
  background:rgba(255,255,255,0.15);
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  padding:10px 0;
  box-shadow:0 -2px 10px rgba(0,0,0,0.25);
  position:fixed;
  bottom:0;
  left:0;
}
.controls input[type=range]{width:50%;accent-color:var(--accent);}
.controls input[type=text]{
  border:none;
  border-radius:12px;
  padding:4px 10px;
  font-size:18px;
  font-family:inherit;
  text-align:center;
  outline:none;
  width:auto;
  min-width:30px;
  max-width:60px;
  background:rgba(255,255,255,0.8);
  color:var(--accent);
}
.page-label{font-size:20px;}
</style>
</head>

<body>
<button class="back" onclick="location.href='index.html'">← Back</button>

<div class="stage" id="stage">
  <img src="notebook.png" id="book" alt="Notebook">
</div>

<div class="controls">
  <span class="page-label">Page:</span>
  <input type="range" id="pageSlider" min="0" max="13" value="0">
  <input type="text" id="pageNumber" value="0">
</div>

<script>
const stage = document.getElementById('stage');
const book = document.getElementById('book');
const slider = document.getElementById('pageSlider');
const pageNum = document.getElementById('pageNumber');

const sequence = [0, 'i', 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]; // full order
let current = 0;

function filenameFor(idx){
  if (idx === 0) return 'notebook.png';      // cover
  if (idx === 'i') return 'page.png';        // roman numeral page
  if (idx === 13) return 'backcover.png';   // back cover
  return `page${idx+1}.png`;                 // page2–page13
}

function setPage(idx){
  current = idx;
  book.src = filenameFor(current);
  slider.value = (current === 'i') ? 1 : current;
  pageNum.value = current;
}

// click navigation
stage.addEventListener('click', e=>{
  const rect = stage.getBoundingClientRect();
  const right = (e.clientX - rect.left) > rect.width / 2;
  const idx = sequence.indexOf(current);
  if (right && idx < sequence.length - 1) setPage(sequence[idx + 1]);
  else if (!right && idx > 0) setPage(sequence[idx - 1]);
});

// arrow key navigation
window.addEventListener('keydown', e=>{
  const idx = sequence.indexOf(current);
  if (e.key === 'ArrowRight' && idx < sequence.length - 1) {
    e.preventDefault();
    setPage(sequence[idx + 1]);
  } else if (e.key === 'ArrowLeft' && idx > 0) {
    e.preventDefault();
    setPage(sequence[idx - 1]);
  }
});

// slider navigation
slider.addEventListener('input', e=>{
  const val = parseInt(e.target.value);
  setPage(val === 1 ? 'i' : val);
});

// manual input (accepts "i" or number)
pageNum.addEventListener('change', e=>{
  const val = e.target.value.trim().toLowerCase();
  if (val === 'i') setPage('i');
  else {
    const num = parseInt(val) || 0;
    setPage(num);
  }
});
</script>
</body>
</html>
